{"ast":null,"code":"var _jsxFileName = \"D:\\\\project\\\\frontend\\\\src\\\\User.js\";\nimport React, { Component } from 'react';\nimport axios from 'axios';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class User extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      // Initially, no file is selected\n      listItems: [],\n      newUser: {\n        photo: \"\"\n      },\n      progress: 0,\n      message: \"\",\n      selectedFile: \"\",\n      fileInfos: []\n    };\n\n    this.handleSubmit = e => {\n      e.preventDefault();\n      const formData = new FormData();\n      formData.append('photo', this.state.newUser.photo);\n      const forData = new FormData(); // Update the formData object\n\n      forData.append(\"myFile\", this.state.selectedFile, this.state.selectedFile.name);\n      this.setState({\n        progress: 0,\n        selectedFile: currentFile\n      }); // Details of the uploaded file\n\n      console.log(this.state.selectedFile);\n      axios.post('http://localhost:4000/users/add/', formData).then(res => {\n        console.log(res);\n        this.setState({\n          listItems: [...this.state.listItems, this.state.selectedFile],\n          selectedFile: ''\n        });\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.fileData = () => {\n      if (this.state.selectedFile) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"File Details:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"File Name: \", this.state.selectedFile.name]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"File Type: \", this.state.selectedFile.type]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 3\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Last Modified:\", \" \", this.state.selectedFile.lastModifiedDate.toDateString()]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 3\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this);\n      } else {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"Choose before Pressing the Upload button\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this);\n      }\n    };\n\n    this.handlePhoto = e => {\n      const newState = { ...this.state.newUser,\n        photo: e.target.files[0]\n      };\n      this.setState({\n        newUser: newState\n      });\n      this.setState({\n        selectedFile: e.target.files[0]\n      });\n    };\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: this.handleSubmit,\n      encType: \"multipart/form-data\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        accept: \".csv\",\n        name: \"photo\",\n        onChange: this.handlePhoto\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: this.state.listItems.map((li, key) => /*#__PURE__*/_jsxDEV(\"li\", {\n          key,\n          children: li\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 50\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 9\n    }, this);\n  }\n\n}","map":{"version":3,"sources":["D:/project/frontend/src/User.js"],"names":["React","Component","axios","User","state","listItems","newUser","photo","progress","message","selectedFile","fileInfos","handleSubmit","e","preventDefault","formData","FormData","append","forData","name","setState","currentFile","console","log","post","then","res","catch","err","fileData","type","lastModifiedDate","toDateString","handlePhoto","newState","target","files","render","map","li","key"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\r\nimport axios from 'axios';\r\nimport \"bootstrap/dist/css/bootstrap.min.css\";\r\n\r\nexport default class User extends Component {\r\n    state = {\r\n \r\n        // Initially, no file is selected\r\n        listItems: [],\r\n        newUser: {\r\n            photo:\"\"\r\n        },\r\n        progress: 0,\r\n      message: \"\",\r\n      selectedFile:\"\",\r\n      fileInfos: [],\r\n      };\r\n\r\n\r\n     handleSubmit = (e) => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('photo', this.state.newUser.photo);\r\n        const forData = new FormData();\r\n    \r\n      // Update the formData object\r\n      forData.append(\r\n        \"myFile\",\r\n        this.state.selectedFile,\r\n        this.state.selectedFile.name\r\n      );\r\n      this.setState({\r\n        progress: 0,\r\n        selectedFile: currentFile,\r\n      });\r\n      // Details of the uploaded file\r\n      console.log(this.state.selectedFile);\r\n    \r\n\r\n        axios.post('http://localhost:4000/users/add/', formData)\r\n             .then(res => {\r\n              console.log(res);\r\n              this.setState({\r\n                listItems: [...this.state.listItems, this.state.selectedFile],\r\n                selectedFile: ''\r\n              })\r\n             })\r\n             .catch(err => {\r\n                console.log(err);\r\n             });\r\n    }\r\n\r\n    fileData = () => {\r\n    \r\n        if (this.state.selectedFile) {\r\n           \r\n          return (\r\n            <div>\r\n              <h2>File Details:</h2>\r\n               \r\n  <p>File Name: {this.state.selectedFile.name}</p>\r\n   \r\n               \r\n  <p>File Type: {this.state.selectedFile.type}</p>\r\n   \r\n               \r\n  <p>\r\n                Last Modified:{\" \"}\r\n                {this.state.selectedFile.lastModifiedDate.toDateString()}\r\n              </p>\r\n   \r\n            </div>\r\n          );\r\n        } else {\r\n          return (\r\n            <div>\r\n              <br />\r\n              <h4>Choose before Pressing the Upload button</h4>\r\n            </div>\r\n          );\r\n        }\r\n      };\r\n     handlePhoto = (e) => {\r\n      const newState = {...this.state.newUser, photo: e.target.files[0]}\r\n      this.setState({ newUser: newState})\r\n      this.setState({ selectedFile: e.target.files[0] });\r\n    \r\n    }\r\n    render(){\r\n    return (\r\n        <form onSubmit={this.handleSubmit} encType='multipart/form-data'>\r\n            <input \r\n                type=\"file\" \r\n                accept=\".csv\"\r\n                name=\"photo\"\r\n                onChange={this.handlePhoto}\r\n            />\r\n\r\n\r\n            <input \r\n                type=\"submit\"\r\n            />\r\n\r\n<ul>\r\n          {\r\n            this.state.listItems.map((li,key) => <li {...{key}}>{li}</li>)\r\n          }\r\n        </ul>\r\n        </form>\r\n    );\r\n    }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}